{"ast":null,"code":"'use strict';\n\nvar isDate = function isDate(key) {\n  return key === \"date\";\n};\n\nmodule.exports = function (initialData, fields, maxValues) {\n  if (initialData.length > maxValues) {\n    initialData = initialData.slice(initialData.length - maxValues);\n  }\n\n  var columnData = {\n    'date': []\n  };\n  fields.forEach(function (f) {\n    return columnData[f] = [];\n  });\n  initialData.forEach(function (value) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = Object.keys(value)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var key = _step.value;\n        if (!columnData[key]) continue;\n        columnData[key].push(isDate(key) ? new Date(value[key]) : value[key]);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  });\n  var columns = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = Object.keys(columnData)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var key = _step2.value;\n\n      if (isDate(key)) {\n        columns.push(['x'].concat(columnData[key]));\n      } else columns.push([key].concat(columnData[key]));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return columns;\n};","map":null,"metadata":{},"sourceType":"script"}