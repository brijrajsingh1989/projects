{"ast":null,"code":"import _classCallCheck from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\ELK_6.5_LM\\\\logr\\\\src\\\\Modules\\\\Report\\\\ShowReports.js\";\nimport React, { Component } from 'react';\nimport { Button, FormGroup, FormControl, ControlLabel, Grid, Row, Col, OverlayTrigger, Glyphicon } from 'react-bootstrap';\nimport './../../resources/styles/style.css';\nimport './Report.css';\nimport Label from './../../components/Label.js';\nimport TextBox from './../../components/TextBox.js';\nimport { Animated } from \"react-animated-css\";\nimport Iframe from 'react-iframe';\nimport Header from './../../components/Header.js';\nimport Config from '../Config/Config.js';\nimport RGrid from './../../components/Grid.js';\nimport Switch from \"react-switch\";\nimport Notifications, { notify } from 'react-notify-toast';\nimport axios from 'axios';\nimport * as JsSearch from 'js-search';\nimport AddReport from './../../components/AddReport.js';\nimport Datetime from 'react-datetime'; //import './../../resources/styles/react-datetime.css';\n\nimport moment from 'moment';\nimport './../../../node_modules/react-datetime/css/react-datetime.css';\nimport Modal from 'react-responsive-modal';\nimport { PieChart, BarChart, Legend, ResponsiveContainer } from 'react-easy-chart';\nimport Tooltip from \"react-simple-tooltip\";\nimport JSZip from 'jszip';\nimport FileSaver from 'file-saver';\nimport saveAs from 'save-as';\nimport Loader from 'react-loader-spinner';\nimport API from './../../Config/api.json';\nimport DonutChart from 'react-donut-chart';\nimport \"react-awesome-popover/dest/react-awesome-popover.css\";\n\nvar toggleAdminFormatter = function toggleAdminFormatter(_ref) {\n  var value = _ref.value;\n  console.log(value);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  });\n};\n\nvar search = new JsSearch.Search('id');\nsearch.addIndex('start_date');\nsearch.addIndex('end_date');\nsearch.addIndex('created_by');\nsearch.addIndex('created_on');\nsearch.addIndex('id');\nsearch.addIndex('log_type');\n\nvar ShowReports =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ShowReports, _Component);\n\n  function ShowReports(props) {\n    var _this;\n\n    _classCallCheck(this, ShowReports);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShowReports).call(this, props));\n\n    _this.getCellActions = function (column, row) {\n      if (column.key === 'id') {\n        return [{\n          icon: \"glyphicon glyphicon-download\",\n          callback: function callback() {\n            _this.downloadReport(row);\n          }\n        }, {\n          icon: \"glyphicon glyphicon-remove-circle\",\n          callback: function callback() {\n            _this.deleteReport(row);\n          }\n        }, {\n          icon: \"glyphicon glyphicon-list-alt\",\n          callback: function callback() {\n            _this.viewReport(row);\n          }\n        }];\n      }\n    };\n\n    _this.state = {\n      modalIsOpen: false,\n      startDate: null,\n      endDate: new Date(),\n      columnsDef: [],\n      rowRecords: [],\n      viewReportModelOpen: false,\n      reportData: [],\n      showToolTip: false,\n      top: '',\n      left: '',\n      reportCalculatedData: [],\n      reportStartDate: '',\n      reportEndDate: '',\n      loader: false,\n      sendEmail: false\n    };\n    _this.geenrateReports = _this.geenrateReports.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDateChange = _this.onDateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onGenerateReportsClick = _this.onGenerateReportsClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onCancelClick = _this.onCancelClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeEvent = _this.onChangeEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onCloseModal = _this.onCloseModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.mouseOutHandler = _this.mouseOutHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.mouseMoveHandler = _this.mouseMoveHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.mouseOverHandler = _this.mouseOverHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onStartDateChange = _this.onStartDateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onEndDateChange = _this.onEndDateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDonutMouseEnter = _this.onDonutMouseEnter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDountSliceClick = _this.onDountSliceClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ShowReports, [{\n    key: \"onDonutMouseEnter\",\n    value: function onDonutMouseEnter(donut) {\n      console.log(donut);\n    }\n  }, {\n    key: \"onDountSliceClick\",\n    value: function onDountSliceClick(donut) {\n      console.log(donut);\n    }\n  }, {\n    key: \"onEndDateChange\",\n    value: function onEndDateChange(endDate) {\n      this.setState({\n        endDate: endDate._d\n      });\n    }\n  }, {\n    key: \"onStartDateChange\",\n    value: function onStartDateChange(startDate) {\n      this.setState({\n        startDate: startDate._d\n      });\n    }\n  }, {\n    key: \"mouseOverHandler\",\n    value: function mouseOverHandler(d, e) {\n      console.log('over y', e.y);\n      console.log('over x', e.x);\n      this.setState({\n        showToolTip: true,\n        top: \"\".concat(e.screenY - 50, \"px\"),\n        left: \"\".concat(e.screenX + 10, \"px\"),\n        y: d.y,\n        x: d.x\n      });\n    }\n  }, {\n    key: \"mouseMoveHandler\",\n    value: function mouseMoveHandler(e) {\n      if (this.state.showToolTip) {\n        this.setState({\n          top: \"\".concat(e.y - 50, \"px\"),\n          left: \"\".concat(e.x + 10, \"px\")\n        });\n      }\n    }\n  }, {\n    key: \"mouseOutHandler\",\n    value: function mouseOutHandler(event) {\n      this.setState({\n        showToolTip: false\n      });\n    }\n  }, {\n    key: \"onCloseModal\",\n    value: function onCloseModal(event) {\n      this.setState({\n        viewReportModelOpen: false\n      });\n    }\n  }, {\n    key: \"onChangeEvent\",\n    value: function onChangeEvent(event) {\n      var filteredData = search.search(event.target.value);\n\n      if (event.target.value) {\n        this.setState({\n          rowRecords: filteredData\n        });\n      } else {\n        this.bindReportGrid();\n      }\n    }\n  }, {\n    key: \"onCancelClick\",\n    value: function onCancelClick(event) {\n      this.setState({\n        modalIsOpen: false\n      });\n    }\n  }, {\n    key: \"lower\",\n    value: function lower(obj) {\n      var output = {};\n\n      for (var i in obj) {\n        if (Object.prototype.toString.apply(obj[i]) === '[object Object]') {\n          output[i.toLowerCase()] = this.lower(obj[i]);\n        } else if (Object.prototype.toString.apply(obj[i]) === '[object Array]') {\n          output[i.toLowerCase()] = [];\n          output[i.toLowerCase()].push(this.lower(obj[i][0]));\n        } else {\n          output[i.toLowerCase()] = obj[i];\n        }\n      }\n\n      return output;\n    }\n  }, {\n    key: \"onGenerateReportsClick\",\n    value: function onGenerateReportsClick(event) {\n      var pageObj = this;\n\n      if (!moment(this.state.startDate).isValid()) {\n        notify.show(\"Please enter valid start date.\", \"error\", 2000);\n        return false;\n      } else if (!moment(this.state.startDate).isValid()) {\n        notify.show(\"Please enter valid end date.\", \"error\", 2000);\n        return false;\n      } else {\n        var inpData = {\n          'startDate': this.state.startDate.toISOString(),\n          'endDate': this.state.endDate.toISOString()\n        };\n        this.setState({\n          loader: true\n        });\n        axios.post(API.current.apiUrl + '/api/v1/elastic', inpData).then(function (res) {\n          var row = pageObj.lower(res.data);\n          console.log('row', row);\n          console.log('pageObj.state.startDate', pageObj.state.startDate);\n          console.log('pageObj.state.endDate', pageObj.state.endDate);\n          row.start_date = String(pageObj.state.startDate);\n          row.end_date = String(pageObj.state.endDate);\n          console.log('row new', row); //pageObj.setState({sendEmail:true});\n\n          pageObj.viewReport(row);\n          pageObj.bindReportGrid();\n          pageObj.setState({\n            loader: false\n          });\n        }).catch(function (err) {\n          console.log('err', err);\n          pageObj.setState({\n            loader: false\n          });\n          pageObj.setState({\n            sendEmail: false\n          });\n        });\n      }\n    }\n  }, {\n    key: \"onDateChange\",\n    value: function onDateChange(event) {}\n  }, {\n    key: \"geenrateReports\",\n    value: function geenrateReports(event) {\n      this.setState({\n        modalIsOpen: true\n      });\n    }\n  }, {\n    key: \"bindReportGrid\",\n    value: function bindReportGrid() {\n      search = new JsSearch.Search('id');\n      search.addIndex('start_date');\n      search.addIndex('end_date');\n      search.addIndex('created_by');\n      search.addIndex('created_on');\n      search.addIndex('id');\n      search.addIndex('log_type');\n      var pageObj = this;\n      var gridColumns = [{\n        key: 'id',\n        name: 'Report ID'\n      }, {\n        key: 'start_date',\n        name: 'Start Date'\n      }, {\n        key: 'end_date',\n        name: 'End Date'\n      }, {\n        key: 'created_by',\n        name: 'Generated By'\n      }, {\n        key: 'created_on',\n        name: 'Generated On'\n      }, {\n        key: 'log_type',\n        name: 'Frequency'\n      }];\n      this.setState({\n        columnsDef: gridColumns\n      });\n      this.setState({\n        loader: true\n      });\n      axios.get(API.current.apiUrl + \"/api/v1/elastic\").then(function (res) {\n        search.addDocuments(res.data);\n        pageObj.setState({\n          rowRecords: res.data\n        });\n        pageObj.setState({\n          loader: false\n        });\n      }).catch(function (err) {\n        console.log(err);\n        pageObj.setState({\n          loader: false\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.bindReportGrid();\n    }\n  }, {\n    key: \"viewReport\",\n    value: function viewReport(row) {\n      this.setState({\n        viewReportModelOpen: true\n      });\n      var reportRow = [{\n        x: \"Emergency\",\n        y: parseInt(row.emergency),\n        color: \"#ef0000\"\n      }, {\n        x: \"Alert\",\n        y: parseInt(row.alert),\n        color: \"#a94442\"\n      }, {\n        x: \"Critical\",\n        y: parseInt(row.critical),\n        color: \"#FFA500\"\n      }, {\n        x: \"Error\",\n        y: parseInt(row.error),\n        color: \"#ffa578\"\n      }, {\n        x: \"Warning\",\n        y: parseInt(row.warning),\n        color: \"#ff78a9\"\n      }, {\n        x: \"Notice\",\n        y: parseInt(row.notice),\n        color: \"#1911bf\"\n      }, {\n        x: \"Informational\",\n        y: parseInt(row.informational),\n        color: \"#10bf67\"\n      }, {\n        x: \"Debug\",\n        y: parseInt(row.debug),\n        color: \"#00e822\"\n      }];\n      this.setState({\n        reportData: reportRow\n      });\n      var countAll = parseInt(row.emergency) + parseInt(row.alert) + parseInt(row.critical) + parseInt(row.error) + parseInt(row.warning) + parseInt(row.notice) + parseInt(row.informational) + parseInt(row.debug);\n\n      if (countAll == 0) {\n        countAll = 1;\n      } // let reportRowCalculatedData = [\n      //   {x: \"Emergency\" + \" (\"+row.emergency +\" | \"+ ((parseInt(row.emergency)/countAll)*100).toFixed(2)+\"%)\"},\n      //   {x: \"Alert\" + \" (\"+row.alert+\" | \" + ((parseInt(row.alert)/countAll)*100).toFixed(2)+\"%)\"},\n      //   {x: \"Critical\" + \" (\"+row.critical+\" | \"+((parseInt(row.critical)/countAll)*100).toFixed(2)+\"%)\"},\n      //   {x: \"Error\" + \" (\"+row.error+\" | \" +((parseInt(row.error)/countAll)*100).toFixed(2)+\"%)\"},\n      //   {x: \"Warning\" + \" (\"+row.warning+ \" | \"+((parseInt(row.warning)/countAll)*100).toFixed(2)+\"%)\"},\n      //   {x: \"Notice\" + \" (\"+row.notice+\" | \"+((parseInt(row.notice)/countAll)*100).toFixed(2)+\"%)\"},\n      //   {x: \"Informational\" + \" (\"+row.informational+ \" | \"+((parseInt(row.informational)/countAll)*100).toFixed(2)+\"%)\"},\n      //   {x: \"Debug\" + \" (\"+row.debug+\" | \"+((parseInt(row.debug)/countAll)*100).toFixed(2)+\"%)\"}\n      // ]\n\n\n      var reportRowCalculatedData = [{\n        x: \"Emergency\" + \" (\" + row.emergency + \" | \" + (parseInt(row.emergency) / countAll * 100).toFixed(2) + \"%)\"\n      }, {\n        x: \"Alert\" + \" (\" + row.alert + \" | \" + (parseInt(row.alert) / countAll * 100).toFixed(2) + \"%)\"\n      }, {\n        x: \"Critical\" + \" (\" + row.critical + \" | \" + (parseInt(row.critical) / countAll * 100).toFixed(2) + \"%)\"\n      }, {\n        x: \"Error\" + \" (\" + row.error + \" | \" + (parseInt(row.error) / countAll * 100).toFixed(2) + \"%)\"\n      }, {\n        x: \"Warning\" + \" (\" + row.warning + \" | \" + (parseInt(row.warning) / countAll * 100).toFixed(2) + \"%)\"\n      }, {\n        x: \"Notice\" + \" (\" + row.notice + \" | \" + (parseInt(row.notice) / countAll * 100).toFixed(2) + \"%)\"\n      }, {\n        x: \"Informational\" + \" (\" + row.informational + \" | \" + (parseInt(row.informational) / countAll * 100).toFixed(2) + \"%)\"\n      }, {\n        x: \"Debug\" + \" (\" + row.debug + \" | \" + (parseInt(row.debug) / countAll * 100).toFixed(2) + \"%)\"\n      }];\n      this.setState({\n        reportCalculatedData: reportRowCalculatedData\n      });\n      this.setState({\n        reportStartDate: moment(row.start_date).format('YYYY-MM-DD HH:mm:ss')\n      });\n      this.setState({\n        reportEndDate: moment(row.end_date).format('YYYY-MM-DD HH:mm:ss')\n      }); //Tue Dec 11 2018 00:00:00 GMT+0800 (Singapore Standard Time)\n      //open all report page and clear start and end dates\n\n      this.setState({\n        modalIsOpen: false,\n        startDate: '',\n        endDate: new Date()\n      }); // let emailReportData = {\n      //     'emailId':sessionStorage.getItem('mailId'),\n      //     'emergency':row.emergency,\n      //     'alert':row.alert,\n      //     'critical':row.critical,\n      //     'error':row.error,\n      //     'warning':row.warning,\n      //     'notice':row.notice,\n      //     'informational':row.informational,\n      //     'debug':row.debug,\n      //     'startdate':moment(row.start_date).format('YYYY-MM-DD HH:mm:ss'),\n      //     'enddate':moment(row.end_date).format('YYYY-MM-DD HH:mm:ss'),\n      //     'name':sessionStorage.getItem('user')\n      //   };\n      // if(this.state.sendEmail)\n      // {\n      //   this.setState({loader:true});\n      //   let pageObj = this;\n      //   axios.post(API.current.apiUrl+'/api/v1/send_email', emailReportData).then(function(res){\n      //       console.log(res);\n      //       notify.show(\"States send to your registered email id -\" + sessionStorage.getItem('mailId'), \"success\", 2000);\n      //       pageObj.setState({loader:false});\n      //       pageObj.setState({sendEmail:false});\n      //   }).catch(function(err)\n      //   {\n      //     console.log('err', err);\n      //     console.log(err);\n      //     pageObj.setState({loader:false});\n      //     pageObj.setState({sendEmail:false});\n      //   });\n      // }\n    }\n  }, {\n    key: \"downloadReport\",\n    value: function downloadReport(row) {\n      this.setState({\n        loader: true\n      });\n      var pageObj = this; //Generate a directory within the Zip file structure\n      //Generate csv file file\n      //Add CSV to zip file\n      //Generate HTML file\n      //Add HTML report to zip\n\n      var csvReport = '';\n      axios.post(API.current.apiUrl + '/api/v1/download_csv_report', row).then(function (res) {\n        csvReport = res.data;\n        axios.post(API.current.apiUrl + '/api/v1/download_html_report', row).then(function (res) {\n          var htmlReport = res.data;\n          var zip = new JSZip();\n          console.log(res.data);\n          zip.file(row.start_date + \"_to_\" + row.end_date + \".csv\", csvReport);\n          zip.file(row.start_date + \"_to_\" + row.end_date + \".html\", htmlReport);\n          zip.generateAsync({\n            type: \"blob\"\n          }).then(function (content) {\n            FileSaver.saveAs(content, \"report.zip\");\n          });\n          pageObj.setState({\n            loader: false\n          });\n        }).catch(function (err) {\n          console.log('err', err);\n          pageObj.setState({\n            loader: false\n          });\n        });\n      }).catch(function (err) {\n        console.log('err', err);\n        pageObj.setState({\n          loader: false\n        });\n      });\n    }\n  }, {\n    key: \"deleteReport\",\n    value: function deleteReport(row) {\n      this.setState({\n        loader: true\n      });\n      var pageObj = this;\n      axios.patch(API.current.apiUrl + \"/api/v1/elastic\", {\n        id: row.id\n      }).then(function (res) {\n        pageObj.setState({\n          loader: false\n        });\n        pageObj.bindReportGrid();\n      }).catch(function (err) {\n        console.log(err);\n        pageObj.setState({\n          loader: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"manageShowReports\",\n        style: {\n          color: '#000'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: this.state.modalIsOpen ? \"none\" : \"\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"addUsers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, React.createElement(AddReport, {\n        text: \"Generate Report\",\n        onClickImplementation: this.geenrateReports,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"searchUsers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, React.createElement(TextBox, {\n        inputType: \"text\",\n        placeholder: \"Search\",\n        onChangeEvent: this.onChangeEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: require('./../../resources/images/search.png'),\n        style: {\n          width: '20px',\n          height: '20px',\n          cursor: 'pointer'\n        },\n        name: \"report\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }))), React.createElement(RGrid, {\n        columnDefs: this.state.columnsDef,\n        rowData: this.state.rowRecords,\n        onGridRowsUpdated: this.onGridRowsUpdated,\n        getCellActions: this.getCellActions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          display: !this.state.modalIsOpen ? \"none\" : \"\"\n        },\n        className: \"users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"createUser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        className: \"override_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"show-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        md: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }, React.createElement(Label, {\n        text: \"Start Date\",\n        color: \"#fff\",\n        size: \"12px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 12,\n        md: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, React.createElement(Datetime, {\n        className: \"datePickerField\",\n        value: this.state.startDate,\n        onChange: this.onStartDateChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 12,\n        md: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(Label, {\n        text: \"End Date\",\n        color: \"#fff\",\n        size: \"12px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 12,\n        md: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, React.createElement(Datetime, {\n        className: \"datePickerField\",\n        value: this.state.endDate,\n        defaultValue: new Date(),\n        onChange: this.onEndDateChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        className: \"show-grid\",\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 5,\n        md: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      }, React.createElement(Button, {\n        bsStyle: \"primary\",\n        className: \"button userPagebtn\",\n        bsSize: \"small\",\n        onClick: this.onGenerateReportsClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, \"Generate Report\")), React.createElement(Col, {\n        xs: 5,\n        md: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, React.createElement(Button, {\n        bsStyle: \"primary\",\n        className: \"button userPagebtn\",\n        bsSize: \"small\",\n        onClick: this.onCancelClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, \"Cancel\")), React.createElement(Col, {\n        xs: 1,\n        md: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 1,\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      })))))), React.createElement(Notifications, {\n        options: {\n          zIndex: 2000,\n          top: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        open: this.state.viewReportModelOpen,\n        onClose: this.onCloseModal,\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"show-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        style: {\n          fontFamily: 'Calibri',\n          textDecoration: 'underline',\n          fontSize: '18px',\n          color: '#005571'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, \"Report from \", this.state.reportStartDate, \" to \", this.state.reportEndDate)))), React.createElement(Row, {\n        className: \"show-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logStatesDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        style: {\n          fontFamily: 'Calibri',\n          fontSize: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      }, \"Log Level States\")))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      }, React.createElement(DonutChart, {\n        className: \"donutChart\",\n        clickToggle: false,\n        height: 350,\n        width: 350,\n        legend: false,\n        onMouseEnter: function onMouseEnter(item) {\n          return _this2.onDonutMouseEnter(item);\n        },\n        onClick: function onClick(item, toggled) {\n          return _this2.onDountSliceClick(item, toggled);\n        },\n        data: [{\n          label: 'Emergency',\n          value: 3,\n          id: '1'\n        }, {\n          label: 'Alert',\n          value: 12,\n          id: '2'\n        }, {\n          label: 'Critical',\n          value: 17,\n          id: '3'\n        }, {\n          label: 'Error',\n          value: 18,\n          id: '4'\n        }, {\n          label: 'Warning',\n          value: 9,\n          id: '5'\n        }, {\n          label: 'Notice',\n          value: 11,\n          id: '6'\n        }, {\n          label: 'Informational',\n          value: 20,\n          id: '7'\n        }, {\n          label: 'Debug',\n          value: 5,\n          id: '8'\n        }, {\n          label: '',\n          value: 5,\n          isEmpty: true,\n          id: '9'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513\n        },\n        __self: this\n      })))))), React.createElement(Notifications, {\n        options: {\n          zIndex: 2001,\n          top: '50px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599\n        },\n        __self: this\n      }), this.state.loader ? React.createElement(\"div\", {\n        className: \"fadeMe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 602\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          left: '45%',\n          top: '40%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        type: \"ThreeDots\",\n        color: \"#00BFFF\",\n        height: \"150\",\n        width: \"150\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 604\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ShowReports;\n}(Component);\n\nexport default ShowReports;","map":{"version":3,"sources":["D:\\ELK_6.5_LM\\logr\\src\\Modules\\Report\\ShowReports.js"],"names":["React","Component","Button","FormGroup","FormControl","ControlLabel","Grid","Row","Col","OverlayTrigger","Glyphicon","Label","TextBox","Animated","Iframe","Header","Config","RGrid","Switch","Notifications","notify","axios","JsSearch","AddReport","Datetime","moment","Modal","PieChart","BarChart","Legend","ResponsiveContainer","Tooltip","JSZip","FileSaver","saveAs","Loader","API","DonutChart","toggleAdminFormatter","value","console","log","search","Search","addIndex","ShowReports","props","getCellActions","column","row","key","icon","callback","downloadReport","deleteReport","viewReport","state","modalIsOpen","startDate","endDate","Date","columnsDef","rowRecords","viewReportModelOpen","reportData","showToolTip","top","left","reportCalculatedData","reportStartDate","reportEndDate","loader","sendEmail","geenrateReports","bind","onDateChange","onGenerateReportsClick","onCancelClick","onChangeEvent","onCloseModal","mouseOutHandler","mouseMoveHandler","mouseOverHandler","onStartDateChange","onEndDateChange","onDonutMouseEnter","onDountSliceClick","donut","setState","_d","d","e","y","x","screenY","screenX","event","filteredData","target","bindReportGrid","obj","output","i","Object","prototype","toString","apply","toLowerCase","lower","push","pageObj","isValid","show","inpData","toISOString","post","current","apiUrl","then","res","data","start_date","String","end_date","catch","err","gridColumns","name","get","addDocuments","reportRow","parseInt","emergency","color","alert","critical","error","warning","notice","informational","debug","countAll","reportRowCalculatedData","toFixed","format","csvReport","htmlReport","zip","file","generateAsync","type","content","patch","id","display","require","width","height","cursor","onGridRowsUpdated","marginTop","zIndex","textAlign","fontFamily","textDecoration","fontSize","item","toggled","label","isEmpty","position"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Button, FormGroup, FormControl, ControlLabel, Grid, Row, Col, OverlayTrigger, Glyphicon} from 'react-bootstrap';\r\nimport './../../resources/styles/style.css';\r\nimport './Report.css';\r\nimport Label from './../../components/Label.js';\r\nimport TextBox from './../../components/TextBox.js';\r\nimport {Animated} from \"react-animated-css\";\r\nimport Iframe from 'react-iframe';\r\nimport Header from './../../components/Header.js';\r\nimport Config from '../Config/Config.js';\r\nimport RGrid from './../../components/Grid.js';\r\nimport Switch from \"react-switch\";\r\nimport Notifications, {notify} from 'react-notify-toast';\r\nimport axios from 'axios';\r\nimport * as JsSearch from 'js-search';\r\nimport AddReport from './../../components/AddReport.js';\r\nimport Datetime  from 'react-datetime';\r\n//import './../../resources/styles/react-datetime.css';\r\nimport moment from 'moment';\r\nimport './../../../node_modules/react-datetime/css/react-datetime.css';\r\nimport Modal from 'react-responsive-modal';\r\nimport {PieChart, BarChart, Legend, ResponsiveContainer} from 'react-easy-chart';\r\nimport Tooltip from \"react-simple-tooltip\";\r\nimport JSZip from 'jszip';\r\nimport FileSaver from 'file-saver';\r\nimport saveAs from 'save-as';\r\nimport Loader from 'react-loader-spinner';\r\nimport API from './../../Config/api.json';\r\nimport DonutChart from 'react-donut-chart';\r\nimport \"react-awesome-popover/dest/react-awesome-popover.css\";\r\n\r\nconst toggleAdminFormatter = ({ value }) => {\r\n  console.log(value);\r\n  return <div>{}</div>\r\n};\r\n\r\nvar search = new JsSearch.Search('id');\r\nsearch.addIndex('start_date');\r\nsearch.addIndex('end_date');\r\nsearch.addIndex('created_by');\r\nsearch.addIndex('created_on');\r\nsearch.addIndex('id');\r\nsearch.addIndex('log_type');\r\n\r\nclass ShowReports extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state =\r\n    {\r\n      modalIsOpen:false,\r\n      startDate:null,\r\n      endDate:new Date(),\r\n      columnsDef: [],\r\n      rowRecords: [],\r\n      viewReportModelOpen:false,\r\n      reportData : [],\r\n      showToolTip:false,\r\n      top: '',\r\n      left:'',\r\n      reportCalculatedData:[],\r\n      reportStartDate:'',\r\n      reportEndDate:'',\r\n      loader:false,\r\n      sendEmail:false\r\n    };\r\n\r\n    this.geenrateReports = this.geenrateReports.bind(this);\r\n    this.onDateChange = this.onDateChange.bind(this);\r\n    this.onGenerateReportsClick = this.onGenerateReportsClick.bind(this);\r\n    this.onCancelClick = this.onCancelClick.bind(this);\r\n    this.onChangeEvent = this.onChangeEvent.bind(this);\r\n    this.onCloseModal = this.onCloseModal.bind(this);\r\n\r\n    this.mouseOutHandler = this.mouseOutHandler.bind(this);\r\n    this.mouseMoveHandler = this.mouseMoveHandler.bind(this);\r\n    this.mouseOverHandler = this.mouseOverHandler.bind(this);\r\n\r\n    this.onStartDateChange = this.onStartDateChange.bind(this);\r\n    this.onEndDateChange = this.onEndDateChange.bind(this);\r\n\r\n    this.onDonutMouseEnter = this.onDonutMouseEnter.bind(this);\r\n    this.onDountSliceClick = this.onDountSliceClick.bind(this);\r\n  }\r\n\r\n  onDonutMouseEnter(donut)\r\n  {\r\n    console.log(donut);\r\n  }\r\n  onDountSliceClick(donut)\r\n  {\r\n    console.log(donut);\r\n  }\r\n\r\n  onEndDateChange(endDate)\r\n  {\r\n    this.setState({endDate:endDate._d});\r\n  }\r\n\r\n  onStartDateChange(startDate)\r\n  {\r\n      this.setState({startDate:startDate._d});\r\n  }\r\n\r\n  mouseOverHandler(d, e) {\r\n    console.log('over y', e.y);\r\n    console.log('over x', e.x);\r\n    this.setState({\r\n      showToolTip: true,\r\n      top: `${e.screenY - 50}px`,\r\n      left: `${e.screenX + 10}px`,\r\n      y: d.y,\r\n      x: d.x});\r\n  }\r\n\r\n  mouseMoveHandler(e) {\r\n    if (this.state.showToolTip) {\r\n      this.setState({top: `${e.y - 50}px`, left: `${e.x + 10}px`});\r\n    }\r\n  }\r\n\r\n  mouseOutHandler(event) {\r\n    this.setState({showToolTip: false});\r\n  }\r\n\r\n  onCloseModal(event)\r\n  {\r\n    this.setState({viewReportModelOpen:false});\r\n  }\r\n\r\n  onChangeEvent(event)\r\n  {\r\n    let filteredData = search.search(event.target.value);\r\n    if(event.target.value)\r\n    {\r\n      this.setState({rowRecords: filteredData});\r\n    }\r\n    else {\r\n      this.bindReportGrid();\r\n    }\r\n  }\r\n\r\n  onCancelClick(event)\r\n  {\r\n    this.setState({modalIsOpen:false});\r\n  }\r\n\r\n  lower(obj) {\r\n    var output = {};\r\n    for (let i in obj) {\r\n        if (Object.prototype.toString.apply(obj[i]) === '[object Object]') {\r\n           output[i.toLowerCase()] = this.lower(obj[i]);\r\n        }else if(Object.prototype.toString.apply(obj[i]) === '[object Array]'){\r\n            output[i.toLowerCase()]=[];\r\n             output[i.toLowerCase()].push(this.lower(obj[i][0]));\r\n        } else {\r\n            output[i.toLowerCase()] = obj[i];\r\n        }\r\n    }\r\n    return output;\r\n}\r\n\r\n  onGenerateReportsClick(event)\r\n  {\r\n    let pageObj = this;\r\n    if(!moment(this.state.startDate).isValid())\r\n    {\r\n      notify.show(\"Please enter valid start date.\", \"error\", 2000);\r\n      return false;\r\n    }\r\n    else if(!moment(this.state.startDate).isValid())\r\n    {\r\n      notify.show(\"Please enter valid end date.\", \"error\", 2000);\r\n      return false;\r\n    }\r\n    else {\r\n        let inpData = {\r\n          'startDate': this.state.startDate.toISOString(),\r\n          'endDate': this.state.endDate.toISOString()\r\n        }\r\n\r\n        this.setState({loader:true});\r\n        axios.post(API.current.apiUrl+'/api/v1/elastic', inpData).then(function(res){\r\n          let row = pageObj.lower(res.data);\r\n          console.log('row', row);\r\n          console.log('pageObj.state.startDate', pageObj.state.startDate);\r\n          console.log('pageObj.state.endDate', pageObj.state.endDate);\r\n          row.start_date = String(pageObj.state.startDate);\r\n          row.end_date = String(pageObj.state.endDate);\r\n          console.log('row new', row);\r\n          //pageObj.setState({sendEmail:true});\r\n          pageObj.viewReport(row);\r\n          pageObj.bindReportGrid();\r\n          pageObj.setState({loader:false});\r\n        }).catch(function(err)\r\n        {\r\n          console.log('err', err);\r\n          pageObj.setState({loader:false});\r\n          pageObj.setState({sendEmail:false});\r\n        });\r\n    }\r\n  }\r\n\r\n  onDateChange(event)\r\n  {\r\n\r\n  }\r\n\r\n  geenrateReports(event)\r\n  {\r\n    this.setState({modalIsOpen:true});\r\n  }\r\n\r\n  bindReportGrid()\r\n  {\r\n    search = new JsSearch.Search('id');\r\n    search.addIndex('start_date');\r\n    search.addIndex('end_date');\r\n    search.addIndex('created_by');\r\n    search.addIndex('created_on');\r\n    search.addIndex('id');\r\n    search.addIndex('log_type');\r\n\r\n    let pageObj = this;\r\n\r\n    let gridColumns = [\r\n      { key: 'id', name: 'Report ID' },\r\n      { key: 'start_date', name: 'Start Date' },\r\n      { key: 'end_date', name: 'End Date' },\r\n      { key: 'created_by', name:'Generated By'},\r\n      { key: 'created_on', name: 'Generated On' },\r\n      { key: 'log_type', name: 'Frequency' }\r\n    ];\r\n\r\n    this.setState({columnsDef:gridColumns});\r\n    this.setState({loader:true});\r\n    axios.get(API.current.apiUrl+\"/api/v1/elastic\").then(function(res)\r\n    {\r\n        search.addDocuments(res.data);\r\n        pageObj.setState({rowRecords: res.data});\r\n        pageObj.setState({loader:false});\r\n    }).catch(function(err){\r\n        console.log(err);\r\n        pageObj.setState({loader:false});\r\n    })\r\n  }\r\n\r\n  componentDidMount()\r\n  {\r\n    this.bindReportGrid();\r\n  }\r\n\r\n\r\n  viewReport(row)\r\n  {\r\n    this.setState({viewReportModelOpen:true});\r\n    let reportRow =\r\n    [\r\n        {x: \"Emergency\", y: parseInt(row.emergency), color: \"#ef0000\"},\r\n        {x: \"Alert\", y: parseInt(row.alert), color: \"#a94442\"},\r\n        {x: \"Critical\", y: parseInt(row.critical), color: \"#FFA500\"},\r\n        {x: \"Error\", y: parseInt(row.error), color: \"#ffa578\"},\r\n        {x: \"Warning\", y: parseInt(row.warning), color: \"#ff78a9\"},\r\n        {x: \"Notice\", y: parseInt(row.notice), color: \"#1911bf\"},\r\n        {x: \"Informational\", y: parseInt(row.informational), color: \"#10bf67\"},\r\n        {x: \"Debug\", y: parseInt(row.debug), color: \"#00e822\"}\r\n    ]\r\n\r\n    this.setState({reportData:reportRow});\r\n\r\n    let countAll = parseInt(row.emergency) + parseInt(row.alert) + parseInt(row.critical) + parseInt(row.error) + parseInt(row.warning) + parseInt(row.notice) + parseInt(row.informational) + parseInt(row.debug)\r\n\r\n    if(countAll == 0)\r\n    {\r\n      countAll = 1;\r\n    }\r\n\r\n    // let reportRowCalculatedData = [\r\n    //   {x: \"Emergency\" + \" (\"+row.emergency +\" | \"+ ((parseInt(row.emergency)/countAll)*100).toFixed(2)+\"%)\"},\r\n    //   {x: \"Alert\" + \" (\"+row.alert+\" | \" + ((parseInt(row.alert)/countAll)*100).toFixed(2)+\"%)\"},\r\n    //   {x: \"Critical\" + \" (\"+row.critical+\" | \"+((parseInt(row.critical)/countAll)*100).toFixed(2)+\"%)\"},\r\n    //   {x: \"Error\" + \" (\"+row.error+\" | \" +((parseInt(row.error)/countAll)*100).toFixed(2)+\"%)\"},\r\n    //   {x: \"Warning\" + \" (\"+row.warning+ \" | \"+((parseInt(row.warning)/countAll)*100).toFixed(2)+\"%)\"},\r\n    //   {x: \"Notice\" + \" (\"+row.notice+\" | \"+((parseInt(row.notice)/countAll)*100).toFixed(2)+\"%)\"},\r\n    //   {x: \"Informational\" + \" (\"+row.informational+ \" | \"+((parseInt(row.informational)/countAll)*100).toFixed(2)+\"%)\"},\r\n    //   {x: \"Debug\" + \" (\"+row.debug+\" | \"+((parseInt(row.debug)/countAll)*100).toFixed(2)+\"%)\"}\r\n    // ]\r\n\r\n    let reportRowCalculatedData = [\r\n      {x: \"Emergency\" + \" (\"+row.emergency +\" | \"+ ((parseInt(row.emergency)/countAll)*100).toFixed(2)+\"%)\"},\r\n      {x: \"Alert\" + \" (\"+row.alert+\" | \" + ((parseInt(row.alert)/countAll)*100).toFixed(2)+\"%)\"},\r\n      {x: \"Critical\" + \" (\"+row.critical+\" | \"+((parseInt(row.critical)/countAll)*100).toFixed(2)+\"%)\"},\r\n      {x: \"Error\" + \" (\"+row.error+\" | \" +((parseInt(row.error)/countAll)*100).toFixed(2)+\"%)\"},\r\n      {x: \"Warning\" + \" (\"+row.warning+ \" | \"+((parseInt(row.warning)/countAll)*100).toFixed(2)+\"%)\"},\r\n      {x: \"Notice\" + \" (\"+row.notice+\" | \"+((parseInt(row.notice)/countAll)*100).toFixed(2)+\"%)\"},\r\n      {x: \"Informational\" + \" (\"+row.informational+ \" | \"+((parseInt(row.informational)/countAll)*100).toFixed(2)+\"%)\"},\r\n      {x: \"Debug\" + \" (\"+row.debug+\" | \"+((parseInt(row.debug)/countAll)*100).toFixed(2)+\"%)\"}\r\n    ]\r\n\r\n    this.setState({reportCalculatedData:reportRowCalculatedData});\r\n    this.setState({reportStartDate:moment(row.start_date).format('YYYY-MM-DD HH:mm:ss')});\r\n    this.setState({reportEndDate:moment(row.end_date).format('YYYY-MM-DD HH:mm:ss')});\r\n    //Tue Dec 11 2018 00:00:00 GMT+0800 (Singapore Standard Time)\r\n    //open all report page and clear start and end dates\r\n    this.setState({modalIsOpen: false, startDate: '', endDate: new Date()});\r\n\r\n      // let emailReportData = {\r\n      //     'emailId':sessionStorage.getItem('mailId'),\r\n      //     'emergency':row.emergency,\r\n      //     'alert':row.alert,\r\n      //     'critical':row.critical,\r\n      //     'error':row.error,\r\n      //     'warning':row.warning,\r\n      //     'notice':row.notice,\r\n      //     'informational':row.informational,\r\n      //     'debug':row.debug,\r\n      //     'startdate':moment(row.start_date).format('YYYY-MM-DD HH:mm:ss'),\r\n      //     'enddate':moment(row.end_date).format('YYYY-MM-DD HH:mm:ss'),\r\n      //     'name':sessionStorage.getItem('user')\r\n      //   };\r\n      // if(this.state.sendEmail)\r\n      // {\r\n      //   this.setState({loader:true});\r\n      //   let pageObj = this;\r\n      //   axios.post(API.current.apiUrl+'/api/v1/send_email', emailReportData).then(function(res){\r\n      //       console.log(res);\r\n      //       notify.show(\"States send to your registered email id -\" + sessionStorage.getItem('mailId'), \"success\", 2000);\r\n      //       pageObj.setState({loader:false});\r\n      //       pageObj.setState({sendEmail:false});\r\n      //   }).catch(function(err)\r\n      //   {\r\n      //     console.log('err', err);\r\n      //     console.log(err);\r\n      //     pageObj.setState({loader:false});\r\n      //     pageObj.setState({sendEmail:false});\r\n      //   });\r\n      // }\r\n  }\r\n\r\n  downloadReport(row)\r\n  {\r\n    this.setState({loader:true});\r\n    let pageObj = this;\r\n    //Generate a directory within the Zip file structure\r\n    //Generate csv file file\r\n    //Add CSV to zip file\r\n    //Generate HTML file\r\n    //Add HTML report to zip\r\n    let csvReport = '';\r\n    axios.post(API.current.apiUrl+'/api/v1/download_csv_report', row).then(function(res){\r\n        csvReport = res.data;\r\n        axios.post(API.current.apiUrl+'/api/v1/download_html_report', row).then(function(res){\r\n          let htmlReport = res.data;\r\n          let zip = new JSZip();\r\n          console.log(res.data);\r\n          zip.file(row.start_date+\"_to_\"+row.end_date+\".csv\", csvReport);\r\n          zip.file(row.start_date+\"_to_\"+row.end_date+\".html\", htmlReport);\r\n\r\n          zip.generateAsync({type: \"blob\"}).then( function(content) {\r\n            FileSaver.saveAs(content, \"report.zip\");\r\n          });\r\n          pageObj.setState({loader:false});\r\n\r\n        }).catch(function(err)\r\n        {\r\n          console.log('err', err);\r\n          pageObj.setState({loader:false});\r\n        });\r\n\r\n    }).catch(function(err)\r\n    {\r\n      console.log('err', err);\r\n      pageObj.setState({loader:false});\r\n    });\r\n  }\r\n\r\n  deleteReport(row)\r\n  {\r\n    this.setState({loader:true});\r\n    let pageObj = this;\r\n\r\n    axios.patch(API.current.apiUrl+\"/api/v1/elastic\", { id : row.id} ).then(function(res)\r\n    {\r\n      pageObj.setState({loader:false});\r\n      pageObj.bindReportGrid();\r\n    }).catch(function(err){\r\n        console.log(err);\r\n        pageObj.setState({loader:false});\r\n    })\r\n  }\r\n\r\n  getCellActions=(column, row)=>{\r\n\r\n      if (column.key === 'id') {\r\n          return [\r\n                    {\r\n                    icon: \"glyphicon glyphicon-download\",\r\n                      callback: () => {\r\n                        this.downloadReport(row);\r\n                      }\r\n                    },\r\n                    {\r\n                    icon: \"glyphicon glyphicon-remove-circle\",\r\n                      callback: () => {\r\n                        this.deleteReport(row);\r\n                      }\r\n                    },\r\n                    {\r\n                    icon: \"glyphicon glyphicon-list-alt\",\r\n                      callback: () => {\r\n                        this.viewReport(row);\r\n                      }\r\n                    }\r\n                  ]\r\n      }\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n        <div className=\"manageShowReports\" style={{color:'#000'}}>\r\n\r\n          {/*<div className=\"userStates\">\r\n              <Label text={\"Daily Report(s) - \"+this.state.rowRecords.length+\" | Weekly Report(s) - NA | Monthly Report(s) - NA | Daily Report(s) - NA | Custom Report(s) - NA\"}></Label>\r\n          </div>*/}\r\n\r\n          <div style={{display:(this.state.modalIsOpen) ? \"none\" : \"\" }}>\r\n              <div className=\"users\">\r\n                <div className=\"addUsers\"><AddReport text={\"Generate Report\"} onClickImplementation={this.geenrateReports}></AddReport></div>\r\n\r\n                <div className=\"searchUsers\">\r\n                    <TextBox inputType = \"text\" placeholder=\"Search\" onChangeEvent={this.onChangeEvent}></TextBox>\r\n                    <img src={require('./../../resources/images/search.png')} style={{width:'20px',height:'20px', cursor:'pointer'}} name=\"report\"/>\r\n                </div>\r\n\r\n              </div>\r\n                <RGrid\r\n                    columnDefs={this.state.columnsDef}\r\n                    rowData = {this.state.rowRecords}\r\n                    onGridRowsUpdated={this.onGridRowsUpdated}\r\n                    getCellActions={this.getCellActions}\r\n                  >\r\n                </RGrid>\r\n          </div>\r\n\r\n          <div style={{display:(!this.state.modalIsOpen) ? \"none\" : \"\" }} className=\"users\">\r\n              <div className=\"createUser\">\r\n                  <Grid className=\"override_container\">\r\n                      <Row className=\"show-grid\">\r\n                        <Col xs={12} md={3}>\r\n                          <Label text={\"Start Date\"} color={\"#fff\"} size={\"12px\"}></Label>\r\n                        </Col>\r\n                        <Col xs={12} md={3}>\r\n\r\n                              <Datetime className=\"datePickerField\" value={this.state.startDate} onChange={this.onStartDateChange}/>\r\n\r\n                        </Col>\r\n                        <Col xs={12} md={3}>\r\n                          <Label text={\"End Date\"} color={\"#fff\"} size={\"12px\"}></Label>\r\n                        </Col>\r\n                        <Col xs={12} md={3}>\r\n\r\n                              <Datetime className=\"datePickerField\" value={this.state.endDate} defaultValue={new Date()} onChange={this.onEndDateChange}/>\r\n\r\n                        </Col>\r\n                      </Row>\r\n\r\n                      <Row className=\"show-grid\" style={{marginTop:'10px'}}>\r\n                        <Col xs={5} md={2}>\r\n                          <Button bsStyle=\"primary\" className=\"button userPagebtn\" bsSize=\"small\" onClick={this.onGenerateReportsClick}>\r\n                            Generate Report\r\n                          </Button>\r\n                        </Col>\r\n                        <Col xs={5} md={2}>\r\n                          <Button bsStyle=\"primary\" className=\"button userPagebtn\" bsSize=\"small\" onClick={this.onCancelClick}>\r\n                            Cancel\r\n                          </Button>\r\n                        </Col>\r\n                        <Col xs={1} md={2}>\r\n                          <div></div>\r\n                        </Col>\r\n                        <Col xs={1} md={6}>\r\n                          <div></div>\r\n                        </Col>\r\n                      </Row>\r\n\r\n                    </Grid>\r\n                </div>\r\n            </div>\r\n\r\n            <Notifications  options={{zIndex: 2000, top: '20px'}} />\r\n\r\n            <Modal open={this.state.viewReportModelOpen} onClose={this.onCloseModal} center>\r\n              <Grid>\r\n                  <Row className=\"show-grid\">\r\n                      <Col xs={12} md={12}>\r\n                        {/*<div><Label text={\"Report from \"+ this.state.reportStartDate  +\" to \" + this.state.reportEndDate +\"\"} size=\"14px\" color=\"#000\"></Label></div>*/}\r\n                        <div style={{textAlign :'center'}}><b style={{fontFamily:'Calibri', textDecoration:'underline', fontSize:'18px', color:'#005571'}}>Report from {this.state.reportStartDate} to {this.state.reportEndDate}</b></div>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row className=\"show-grid\">\r\n                      <Col xs={12} md={12}>\r\n                        {/*<div><Label text={\"Errors State\"} size=\"14px\" color=\"#000\"></Label></div>*/}\r\n                        <div className=\"logStatesDiv\">\r\n                            <b style={{fontFamily:'Calibri', fontSize:'16px'}}>Log Level States</b>\r\n                        </div>\r\n                      </Col>\r\n                  </Row>\r\n\r\n                  <Row>\r\n                    <Col  xs={12} md={12}>\r\n                      <div style={{textAlign:'center'}}>\r\n                        <DonutChart\r\n                          className = {\"donutChart\"}\r\n                          clickToggle={false}\r\n                          height={350}\r\n                          width = {350}\r\n                          legend = {false}\r\n                          onMouseEnter = {(item)=>this.onDonutMouseEnter(item)}\r\n                          onClick = {(item, toggled) => this.onDountSliceClick(item, toggled)}\r\n                          data={[{\r\n                              label: 'Emergency',\r\n                              value: 3,\r\n                              id:'1'\r\n                          },\r\n                          {\r\n                              label: 'Alert',\r\n                              value: 12,\r\n                              id:'2'\r\n                          },\r\n                          {\r\n                              label: 'Critical',\r\n                              value: 17,\r\n                              id:'3'\r\n                          },\r\n                          {\r\n                              label: 'Error',\r\n                              value: 18,\r\n                              id:'4'\r\n                          },\r\n                          {\r\n                              label: 'Warning',\r\n                              value: 9,\r\n                              id:'5'\r\n                          },\r\n                          {\r\n                              label: 'Notice',\r\n                              value: 11,\r\n                              id:'6'\r\n                          },\r\n                          {\r\n                            label:'Informational',\r\n                            value:20,\r\n                            id:'7'\r\n\r\n                          },\r\n                          {\r\n                            label:'Debug',\r\n                            value:5,\r\n                            id:'8'\r\n                          },\r\n                          {\r\n                              label: '',\r\n                              value: 5,\r\n                              isEmpty: true,\r\n                              id:'9'\r\n                          }]} />\r\n                        {/*<Legend data={this.state.reportCalculatedData} dataId={'x'} horizontal\r\n                          config= {\r\n                            [\r\n                              {color: '#ef0000'},{color: '#a94442'},{color: '#FFA500'},\r\n                              {color: '#ffa578'},{color: '#ff78a9'},{color: '#1911bf'},\r\n                              {color: '#10bf67'},{color: '#00e822'}\r\n                            ]\r\n                          }/>*/}\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  {/*<Row>\r\n                      <Col xs={12} md={12}>\r\n                        <div className=\"logStatesDiv\">\r\n                            <BarChart\r\n                              axes\r\n                              colorBars\r\n                              height={250}\r\n                              width={600}\r\n                              margin={{top: 0, right: 0, bottom: 50, left: 80}}\r\n                              data = {this.state.reportData}\r\n                              barWidth={40}\r\n                              axisLabels={{x: 'Syslog Level', y: 'Syslog Packet Count'}}\r\n                            />\r\n                        </div>\r\n                      </Col>\r\n                  </Row>*/}\r\n              </Grid>\r\n            </Modal>\r\n            {/*style={{top: this.state.top, left: this.state.left}}*/}\r\n            <Notifications options={{zIndex: 2001, top: '50px'}} />\r\n\r\n            {(this.state.loader)?\r\n                <div className=\"fadeMe\">\r\n                    <div style={{position:'absolute', left:'45%', top: '40%'}}>\r\n                      <Loader\r\n                         type=\"ThreeDots\"\r\n                         color=\"#00BFFF\"\r\n                         height=\"150\"\r\n                         width=\"150\"\r\n                      />\r\n                    </div>\r\n                </div>:<div></div>\r\n            }\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ShowReports;\r\n"]},"metadata":{},"sourceType":"module"}