{"ast":null,"code":"import _classCallCheck from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\ELK_6.5_LM\\\\logr\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\ELK_6.5_LM\\\\logr\\\\src\\\\Modules\\\\Report\\\\Analytics.js\";\nimport React, { Component } from 'react';\nimport { Button, FormGroup, FormControl, ControlLabel, Grid, Row, Col, Tooltip, OverlayTrigger } from 'react-bootstrap';\nimport './../../resources/styles/style.css';\nimport './Report.css';\nimport Label from './../../components/Label.js';\nimport TextBox from './../../components/TextBox.js';\nimport { Animated } from \"react-animated-css\";\nimport Iframe from 'react-iframe';\nimport Header from './../../components/Header.js';\nimport Config from '../Config/Config.js';\nimport SmoothieComponent from 'react-smoothie';\nimport axios from 'axios';\nimport Chart from 'react-google-charts';\nimport Loader from 'react-loader-spinner';\nimport API from './../../Config/api.json'; // import {PieChart} from 'react-easy-chart';\n\nimport { PieChart, BarChart, Legend, ResponsiveContainer } from 'react-easy-chart';\nimport ReactSvgPieChart from \"react-svg-piechart\";\n\nvar Analytics =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Analytics, _Component);\n\n  function Analytics(props) {\n    var _this;\n\n    _classCallCheck(this, Analytics);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Analytics).call(this, props));\n    _this.state = {\n      logLevel: [],\n      loader: false,\n      reportCalculatedData: []\n    };\n    return _this;\n  }\n\n  _createClass(Analytics, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var thisObj = this;\n      var ts1 = this.refs.chart.addTimeSeries({\n        strokeStyle: 'rgba(0, 255, 0, 1)',\n        fillStyle: 'rgba(0, 255, 0, 0.1)',\n        lineWidth: 1\n      });\n      this.dataGenerator = setInterval(function () {\n        var time = new Date().getTime(); // Generate times slightly in the future\n\n        time += 1000;\n        axios.get(API.current.apiUrl + '/api/v1/cpuinfo').then(function (res) {\n          console.log(res.data.cpu);\n          ts1.append(time, res.data.cpu); //ts2.append(time, Math.random());\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }, 1000);\n      var Interval = 0;\n      this.logGenerator = setInterval(function () {\n        axios.get(API.current.apiUrl + '/api/v1/events').then(function (res) {\n          console.log(res.data);\n          thisObj.setState({\n            logLevel: [{\n              title: \"Emergency (\" + res.data.Emergency + \")\",\n              value: parseInt(res.data.Emergency),\n              color: \"#ef0000\"\n            }, {\n              title: \"Alert (\" + res.data.Alert + \")\",\n              value: parseInt(res.data.Alert),\n              color: \"#A94442\"\n            }, {\n              title: \"Critical (\" + res.data.Critical + \")\",\n              value: parseInt(res.data.Critical),\n              color: \"#FFA500\"\n            }, {\n              title: \"Error (\" + res.data.Error + \")\",\n              value: parseInt(res.data.Error),\n              color: \"#ffa578\"\n            }, {\n              title: \"Warning (\" + res.data.Warning + \")\",\n              value: parseInt(res.data.Warning),\n              color: \"#ff78a9\"\n            }, {\n              title: \"Notice (\" + res.data.Notice + \")\",\n              value: parseInt(res.data.Notice),\n              color: \"#1911bf\"\n            }, {\n              title: \"Informational (\" + res.data.Informational + \")\",\n              value: parseInt(res.data.Informational),\n              color: \"#10bf67\"\n            }, {\n              title: \"Debug (\" + res.data.Debug + \")\",\n              value: parseInt(res.data.Debug),\n              color: \"#00e822\"\n            }]\n          });\n          var countAll = parseInt(res.data.Emergency) + parseInt(res.data.Alert) + parseInt(res.data.Critical) + parseInt(res.data.Error) + parseInt(res.data.Warning) + parseInt(res.data.Notice) + parseInt(res.data.Informational) + parseInt(res.data.Debug);\n          var reportRowCalculatedData = [{\n            x: \"Emergency\" + \" (\" + res.data.Emergency + \" | \" + (parseInt(res.data.Emergency) / countAll * 100).toFixed(2) + \"%)\"\n          }, {\n            x: \"Alert\" + \" (\" + res.data.Alert + \" | \" + (parseInt(res.data.Alert) / countAll * 100).toFixed(2) + \"%)\"\n          }, {\n            x: \"Critical\" + \" (\" + res.data.Critical + \" | \" + (parseInt(res.data.Critical) / countAll * 100).toFixed(2) + \"%)\"\n          }, {\n            x: \"Error\" + \" (\" + res.data.Error + \" | \" + (parseInt(res.data.Error) / countAll * 100).toFixed(2) + \"%)\"\n          }, {\n            x: \"Warning\" + \" (\" + res.data.Warning + \" | \" + (parseInt(res.data.Warning) / countAll * 100).toFixed(2) + \"%)\"\n          }, {\n            x: \"Notice\" + \" (\" + res.data.Notice + \" | \" + (parseInt(res.data.Notice) / countAll * 100).toFixed(2) + \"%)\"\n          }, {\n            x: \"Informational\" + \" (\" + res.data.Informational + \" | \" + (parseInt(res.data.Informational) / countAll * 100).toFixed(2) + \"%)\"\n          }, {\n            x: \"Debug\" + \" (\" + res.data.Debug + \" | \" + (parseInt(res.data.Debug) / countAll * 100).toFixed(2) + \"%)\"\n          }];\n          thisObj.setState({\n            reportCalculatedData: reportRowCalculatedData\n          });\n          Interval = 10000;\n        }).catch(function (err) {\n          console.log(err);\n          Interval = 10000;\n        });\n      }, 5000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.dataGenerator);\n      clearInterval(this.logGenerator);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"logStatesDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        md: 12,\n        style: {\n          padding: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(SmoothieComponent, {\n        ref: \"chart\",\n        responsive: true,\n        interpolation: \"smooth\",\n        minValue: 0,\n        maxValue: 100,\n        strokeStyle: \"#ffffff\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(Label, {\n        weight: \"bold\",\n        text: \"CPU States\",\n        color: \"#000\",\n        size: \"10px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        className: \"logStatesDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Legend, {\n        data: this.state.reportCalculatedData,\n        dataId: 'x',\n        horizontal: true,\n        config: [{\n          color: '#ef0000'\n        }, {\n          color: '#a94442'\n        }, {\n          color: '#FFA500'\n        }, {\n          color: '#ffa578'\n        }, {\n          color: '#ff78a9'\n        }, {\n          color: '#1911bf'\n        }, {\n          color: '#10bf67'\n        }, {\n          color: '#00e822'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 12,\n        md: 6,\n        style: {\n          padding: '5px',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: '200px',\n          height: '200px',\n          margin: '0 auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(ReactSvgPieChart, {\n        expandOnHover: true,\n        expandSize: 5,\n        shrinkOnTouchEnd: false,\n        strokeColor: \"#fff\",\n        strokeLinejoin: \"miter\",\n        strokeWidth: 1,\n        viewBoxSize: 100,\n        data: this.state.logLevel,\n        transitionDuration: \"1s\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(Label, {\n        weight: \"bold\",\n        text: \"Error States For Last 7 Days\",\n        color: \"#000\",\n        size: \"10px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })))), this.state.loader ? React.createElement(\"div\", {\n        className: \"fadeMe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          left: '45%',\n          top: '40%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        type: \"ThreeDots\",\n        color: \"#00BFFF\",\n        height: \"150\",\n        width: \"150\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Analytics;\n}(Component);\n\nexport default Analytics;","map":{"version":3,"sources":["D:\\ELK_6.5_LM\\logr\\src\\Modules\\Report\\Analytics.js"],"names":["React","Component","Button","FormGroup","FormControl","ControlLabel","Grid","Row","Col","Tooltip","OverlayTrigger","Label","TextBox","Animated","Iframe","Header","Config","SmoothieComponent","axios","Chart","Loader","API","PieChart","BarChart","Legend","ResponsiveContainer","ReactSvgPieChart","Analytics","props","state","logLevel","loader","reportCalculatedData","thisObj","ts1","refs","chart","addTimeSeries","strokeStyle","fillStyle","lineWidth","dataGenerator","setInterval","time","Date","getTime","get","current","apiUrl","then","res","console","log","data","cpu","append","catch","err","Interval","logGenerator","setState","title","Emergency","value","parseInt","color","Alert","Critical","Error","Warning","Notice","Informational","Debug","countAll","reportRowCalculatedData","x","toFixed","clearInterval","padding","textAlign","width","height","margin","position","left","top"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Button, FormGroup, FormControl, ControlLabel, Grid, Row, Col, Tooltip, OverlayTrigger} from 'react-bootstrap';\r\nimport './../../resources/styles/style.css';\r\nimport './Report.css';\r\nimport Label from './../../components/Label.js';\r\nimport TextBox from './../../components/TextBox.js';\r\nimport {Animated} from \"react-animated-css\";\r\nimport Iframe from 'react-iframe';\r\nimport Header from './../../components/Header.js';\r\nimport Config from '../Config/Config.js';\r\nimport SmoothieComponent from 'react-smoothie';\r\nimport axios from 'axios';\r\nimport Chart from 'react-google-charts';\r\nimport Loader from 'react-loader-spinner';\r\nimport API from './../../Config/api.json';\r\n// import {PieChart} from 'react-easy-chart';\r\nimport {PieChart, BarChart, Legend, ResponsiveContainer} from 'react-easy-chart';\r\nimport ReactSvgPieChart from \"react-svg-piechart\"\r\n\r\n\r\nclass Analytics extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {logLevel:[], loader:false, reportCalculatedData:[]};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n      let thisObj = this;\r\n\r\n      var ts1 = this.refs.chart.addTimeSeries({\r\n        strokeStyle: 'rgba(0, 255, 0, 1)',\r\n        fillStyle: 'rgba(0, 255, 0, 0.1)',\r\n        lineWidth: 1,\r\n      });\r\n\r\n      this.dataGenerator = setInterval(function() {\r\n        var time = new Date().getTime();\r\n        // Generate times slightly in the future\r\n        time += 1000;\r\n        axios.get(API.current.apiUrl+'/api/v1/cpuinfo').then(function(res){\r\n          console.log(res.data.cpu);\r\n\r\n          ts1.append(time, res.data.cpu);\r\n          //ts2.append(time, Math.random());\r\n        }).catch(function(err){\r\n          console.log(err);\r\n        })\r\n      }, 1000);\r\n\r\n\r\n      let Interval = 0;\r\n      this.logGenerator = setInterval(function() {\r\n\r\n        axios.get(API.current.apiUrl+'/api/v1/events').then(function(res){\r\n          console.log(res.data);\r\n\r\n          thisObj.setState({logLevel:[\r\n            {title: \"Emergency (\"+res.data.Emergency+\")\", value: parseInt(res.data.Emergency), color: \"#ef0000\"},\r\n            {title: \"Alert (\"+res.data.Alert+\")\", value: parseInt(res.data.Alert), color: \"#A94442\"},\r\n            {title: \"Critical (\"+res.data.Critical+\")\", value: parseInt(res.data.Critical), color: \"#FFA500\"},\r\n            {title: \"Error (\"+res.data.Error+\")\", value: parseInt(res.data.Error), color: \"#ffa578\"},\r\n            {title: \"Warning (\"+res.data.Warning+\")\", value: parseInt(res.data.Warning), color: \"#ff78a9\"},\r\n            {title: \"Notice (\"+res.data.Notice+\")\", value: parseInt(res.data.Notice), color: \"#1911bf\"},\r\n            {title: \"Informational (\"+res.data.Informational+\")\", value: parseInt(res.data.Informational), color: \"#10bf67\"},\r\n            {title: \"Debug (\"+res.data.Debug+\")\", value: parseInt(res.data.Debug), color: \"#00e822\"},\r\n          ]})\r\n          let countAll = parseInt(res.data.Emergency) + parseInt(res.data.Alert) + parseInt(res.data.Critical) + parseInt(res.data.Error) + parseInt(res.data.Warning) + parseInt(res.data.Notice) + parseInt(res.data.Informational) + parseInt(res.data.Debug);\r\n          let reportRowCalculatedData = [\r\n            {x: \"Emergency\" + \" (\"+res.data.Emergency +\" | \"+ ((parseInt(res.data.Emergency)/countAll)*100).toFixed(2)+\"%)\"},\r\n            {x: \"Alert\" + \" (\"+res.data.Alert+\" | \" + ((parseInt(res.data.Alert)/countAll)*100).toFixed(2)+\"%)\"},\r\n            {x: \"Critical\" + \" (\"+res.data.Critical+\" | \"+((parseInt(res.data.Critical)/countAll)*100).toFixed(2)+\"%)\"},\r\n            {x: \"Error\" + \" (\"+res.data.Error+\" | \" +((parseInt(res.data.Error)/countAll)*100).toFixed(2)+\"%)\"},\r\n            {x: \"Warning\" + \" (\"+res.data.Warning+ \" | \"+((parseInt(res.data.Warning)/countAll)*100).toFixed(2)+\"%)\"},\r\n            {x: \"Notice\" + \" (\"+res.data.Notice+\" | \"+((parseInt(res.data.Notice)/countAll)*100).toFixed(2)+\"%)\"},\r\n            {x: \"Informational\" + \" (\"+res.data.Informational+ \" | \"+((parseInt(res.data.Informational)/countAll)*100).toFixed(2)+\"%)\"},\r\n            {x: \"Debug\" + \" (\"+res.data.Debug+\" | \"+((parseInt(res.data.Debug)/countAll)*100).toFixed(2)+\"%)\"}\r\n          ]\r\n\r\n          thisObj.setState({reportCalculatedData:reportRowCalculatedData});\r\n          Interval = 10000;\r\n        }).catch(function(err){\r\n          console.log(err);\r\n          Interval = 10000;\r\n        })\r\n\r\n      }, 5000);\r\n\r\n  }\r\n\r\n  componentWillUnmount()\r\n  {\r\n    clearInterval(this.dataGenerator);\r\n    clearInterval(this.logGenerator);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n            <Grid>\r\n                  <Row className=\"logStatesDiv\">\r\n                      {/*<Col xs={12} md={6}>\r\n                          <Label text={\"CPU States\"} color=\"#000\"></Label>\r\n                      </Col>*/}\r\n\r\n                      <Col xs={12} md={12}  style={{padding:'5px'}}>\r\n                            <SmoothieComponent ref=\"chart\" responsive={true} interpolation=\"smooth\" minValue={0}  maxValue={100} strokeStyle=\"#ffffff\"/>\r\n\r\n                                <Label weight=\"bold\" text={\"CPU States\"} color=\"#000\" size=\"10px\"></Label>\r\n                      </Col>\r\n                  </Row>\r\n\r\n\r\n                  <Row className=\"logStatesDiv\">\r\n                      <Col xs={12} md={6}>\r\n                        <Legend data={this.state.reportCalculatedData} dataId={'x'} horizontal\r\n                          config= {\r\n                            [\r\n                              {color: '#ef0000'},{color: '#a94442'},{color: '#FFA500'},\r\n                              {color: '#ffa578'},{color: '#ff78a9'},{color: '#1911bf'},\r\n                              {color: '#10bf67'},{color: '#00e822'}\r\n                            ]\r\n                          }/>\r\n                      </Col>\r\n\r\n                      <Col xs={12} md={6}  style={{padding:'5px', textAlign:'center'}}>\r\n                              <div style={{width:'200px', height:'200px', margin:'0 auto'}}>\r\n                                <ReactSvgPieChart\r\n                                    expandOnHover={true}\r\n                                    expandSize={5}\r\n                                    shrinkOnTouchEnd={false}\r\n                                    strokeColor=\"#fff\"\r\n                                    strokeLinejoin=\"miter\"\r\n                                    strokeWidth={1}\r\n                                    viewBoxSize={100}\r\n                                    data = {this.state.logLevel}\r\n                                    transitionDuration={\"1s\"}\r\n                                  />\r\n                              </div>\r\n                            <Label weight=\"bold\" text={\"Error States For Last 7 Days\"} color=\"#000\" size=\"10px\"></Label>\r\n                      </Col>\r\n                  </Row>\r\n            </Grid>\r\n            {(this.state.loader)?\r\n                <div className=\"fadeMe\">\r\n                    <div style={{position:'absolute', left:'45%', top: '40%'}}>\r\n                      <Loader\r\n                         type=\"ThreeDots\"\r\n                         color=\"#00BFFF\"\r\n                         height=\"150\"\r\n                         width=\"150\"\r\n                      />\r\n                    </div>\r\n                </div>:<div></div>\r\n            }\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Analytics;\r\n"]},"metadata":{},"sourceType":"module"}